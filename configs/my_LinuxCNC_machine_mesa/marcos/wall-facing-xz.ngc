(Side-wall facing in XZ plane â€” assumes X=0, Z=0 in G57)
o<wall-facing-xz> sub
(begin preamble)
G17 G54 G40 G49 G80 G90
G21
(begin operation: Fixture)
(machine units: mm/min)
G57                 (Use work offset G57)
G43                 (Activate tool length compensation)
M3 S10000 

#<xEnd>     = #1    (End X position)
#<zFinal>   = #2    (Final Z depth, negative)
#<zStep>    = #3    (Step down increment)
#<feedX>    = #4    (Feedrate for X)
#<feedZ>    = #5    (Feedrate for Z)

#<zRetract> = 5    (Fixed machine Z height for retract)
#<zNow>     = 0     (Start from G57 Z=0)

(debug, #<zNow> , #<zFinal>)
O100 WHILE [#<zNow> GT #<zFinal>] 

(debug, O100)
    #<zNow> = [#<zNow> - #<zStep>]
    
O200 IF [#<zNow> LT #<zFinal>] 
    (debug, O200)
    #<zNow> = #<zFinal>
O200 ENDIF

    G0 Z#<zRetract>        (Retract to Z safe height in G57)
    G0 X0                      (Rapid to start X=0)

    G1 Z#<zNow> F#<feedZ>      (Feed to current Z depth)
    G1 X#<xEnd> F#<feedX>      (Face pass along X)

    G0 Z#<zRetract>        (Retract again)

O100 ENDWHILE

(debug, ENDWHILE)
G0 Z#<zRetract>        (Retract again)

(begin postamble)
M05
G17 G54 G90 G80 G40

o<wall-facing-xz> endsub
M2